<section class="max-w-4xl mx-auto px-4 py-8 mt-10">
  @if (blog) {
  <section class="max-w-4xl mx-auto px-4 py-8">
    @if (blog) {
    <button
      (click)="goBack()"
      class="mb-6 inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-700 to-pink-500 text-white rounded-lg shadow hover:opacity-90 transition"
    >
      <i class="fas fa-arrow-left"></i>
      Volver
    </button>

    <h1 class="text-3xl font-bold mb-4">{{ blog.title }}</h1>

    @if (blog.coverUrl) {
    <img [src]="blog.coverUrl" [alt]="blog.title" class="rounded-lg mb-4" />
    }

    <div class="text-sm text-gray-500 mb-2">
      {{ blog.publishedAt | date : "mediumDate" }}
      @if (blog.readTimeMinutes) { â€¢ {{ blog.readTimeMinutes }} min read }
    </div>

    @if (blog.author?.name) {
    <div class="text-sm text-gray-700 mb-4">
      By <span class="font-medium">{{ blog.author?.name }}</span>
    </div>
    }

    <p class="text-gray-700 leading-relaxed">
      {{ blog.excerpt }}
    </p>

    <div class="mt-4 flex flex-wrap gap-2">
      @for (tag of blog.tags; track tag) {
      <span
        class="text-xs font-medium px-2 py-1 rounded-full"
        [ngClass]="{
          'bg-blue-100 text-blue-700 border-blue-200': tag === 'Tech',
          'bg-green-100 text-green-700 border-green-200': tag === 'Marketing',
          'bg-pink-100 text-pink-700 border-pink-200': tag === 'Design',
          'bg-purple-100 text-purple-700 border-purple-200': tag === 'UI/UX',
          'bg-yellow-100 text-yellow-700 border-yellow-200':
            tag === 'Retention',
          'bg-cyan-100 text-cyan-700': tag === 'Accessibility'
        }"
      >
        {{ tag }}
      </span>
      }
    </div>
    } @else {
    <div class="text-center text-gray-500 py-10">
      <i class="fas fa-spinner fa-spin mr-2"></i> Cargando blog...
    </div>
    }
  </section>

  <div class="mt-5">
    <app-comment-box [blogId]="blog.id"></app-comment-box>
  </div>
  } @else {
  <div class="text-center text-gray-500 py-10">
    <i class="fas fa-spinner fa-spin mr-2"></i> Cargando blog...
  </div>
  }
</section>